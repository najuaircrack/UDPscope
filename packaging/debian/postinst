#!/bin/sh

# postinst script for udpscope
set -e

case "$1" in
    configure)
        # Check for recommended dependencies
        if ! command -v tcpdump >/dev/null 2>&1 && ! command -v tshark >/dev/null 2>&1; then
            echo "Warning: Neither tcpdump nor tshark found. Packet capture may not work."
            echo "Install one of: tcpdump, tshark"
        fi

        if ! command -v ss >/dev/null 2>&1; then
            echo "Warning: ss (iproute2) not found. Socket statistics may not work."
        fi

        echo "UDPscope installed successfully."
        echo "Run 'sudo udpscope --help' for usage information."
        ;;
        
    abort-upgrade|abort-remove|abort-deconfigure)
        ;;
        
    *)
        echo "postinst called with unknown argument \`$1'" >&2
        exit 1
        ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

exit 0
